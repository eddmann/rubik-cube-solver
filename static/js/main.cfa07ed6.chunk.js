(this["webpackJsonprubik-cube-solver-client"]=this["webpackJsonprubik-cube-solver-client"]||[]).push([[0],{13:function(e,t,o){"use strict";o.d(t,"a",(function(){return r})),o.d(t,"c",(function(){return i})),o.d(t,"b",(function(){return c}));var n=o(4),r={W:"#f7f5f5",O:"orange",G:"green",R:"red",Y:"yellow",B:"blue"},i="WWWWWWWWWRRRRRRRRRGGGGGGGGGYYYYYYYYYOOOOOOOOOBBBBBBBBB",c={DLB:{position:new n.Vector3(-1,-1,-1),facelets:[33,42,53]},DLF:{position:new n.Vector3(-1,-1,1),facelets:[27,44,24]},ULB:{position:new n.Vector3(-1,1,-1),facelets:[0,36,47]},ULF:{position:new n.Vector3(-1,1,1),facelets:[6,38,18]},DRB:{position:new n.Vector3(1,-1,-1),facelets:[35,17,51]},DRF:{position:new n.Vector3(1,-1,1),facelets:[29,15,26]},URB:{position:new n.Vector3(1,1,-1),facelets:[2,11,45]},URF:{position:new n.Vector3(1,1,1),facelets:[8,9,20]},UR:{position:new n.Vector3(1,1,0),facelets:[5,10,void 0]},UF:{position:new n.Vector3(0,1,1),facelets:[7,void 0,19]},UL:{position:new n.Vector3(-1,1,0),facelets:[3,37,void 0]},UB:{position:new n.Vector3(0,1,-1),facelets:[1,void 0,46]},DR:{position:new n.Vector3(1,-1,0),facelets:[32,16,void 0]},DF:{position:new n.Vector3(0,-1,1),facelets:[28,void 0,25]},DL:{position:new n.Vector3(-1,-1,0),facelets:[30,43,void 0]},DB:{position:new n.Vector3(0,-1,-1),facelets:[34,void 0,52]},FR:{position:new n.Vector3(1,0,1),facelets:[void 0,12,23]},FL:{position:new n.Vector3(-1,0,1),facelets:[void 0,41,21]},BL:{position:new n.Vector3(-1,0,-1),facelets:[void 0,39,50]},BR:{position:new n.Vector3(1,0,-1),facelets:[void 0,14,48]},U:{position:new n.Vector3(0,1,0),facelets:[4,void 0,void 0]},D:{position:new n.Vector3(0,-1,0),facelets:[31,void 0,void 0]},L:{position:new n.Vector3(-1,0,0),facelets:[void 0,40,void 0]},R:{position:new n.Vector3(1,0,0),facelets:[void 0,13,void 0]},F:{position:new n.Vector3(0,0,1),facelets:[void 0,void 0,22]},B:{position:new n.Vector3(0,0,-1),facelets:[void 0,void 0,49]}}},16:function(e,t,o){e.exports={Actions:"App_Actions__2k3r2",Canvas:"App_Canvas__3gPKS",Solution:"App_Solution__2FVnF",Move:"App_Move__3i-Yo",MoveActive:"App_MoveActive__wA1bn"}},32:function(e,t,o){"use strict";(function(e){var n=o(10),r=o(11),i=o(6),c=o(17),a=o(4),s=o(33),u=o(37),l=o(38),f=o(39),v=o(16),b=o.n(v),d=o(13),p=o(8);t.a=function(t){var o=t.solver,v=Object(i.useRef)(),j=Object(i.useState)(d.c),O=Object(n.a)(j,2),h=O[0],x=O[1],R=Object(i.useState)([]),m=Object(n.a)(R,2),w=m[0],B=m[1],D=Object(i.useState)(0),g=Object(n.a)(D,2),V=g[0],F=g[1],L=Object(i.useState)(!0),M=Object(n.a)(L,2),U=M[0],y=M[1];Object(i.useEffect)((function(){if(v.current&&w[V]&&U){var e=w[V],t=e.move,o=e.startState,n=e.endState;if(o!==d.c){var r=!0;return v.current.rotate(t).then((function(){r?(x(n),V+1<w.length&&F(V+1)):v.current.reset()})),function(){r=!1}}}}),[w,V,U]);return Object(p.jsxs)("div",{children:[Object(p.jsx)("header",{children:Object(p.jsx)("h1",{children:"Rubik Cube Solver"})}),Object(p.jsx)(u.a,{state:h,onStateChange:x,onRandom:function(){x(o.rand_cube()),B([]),F(0)},onSolve:function(){(function(e,t){try{var o=e.solve_cube(t);return Promise.resolve([].concat(Object(r.a)(o.map((function(n,r){return{move:n,startState:e.apply_cube_moves(t,o.slice(0,r)),endState:e.apply_cube_moves(t,o.slice(0,r+1))}}))),[{move:"\ud83c\udf89",startState:d.c,endState:d.c}]))}catch(n){return Promise.reject(n)}})(o,h).then((function(e){B(e),F(0),y(!0)})).catch((function(t){e.alert(t)}))}}),Object(p.jsxs)(c.a,{onCreated:function(e){e.gl.toneMapping=a.NoToneMapping},className:b.a.Canvas,camera:{position:[4,4,5]},gl:{antialias:!0},children:[Object(p.jsx)(s.a,{}),Object(p.jsx)(f.a,{ref:v,state:h})]}),Object(p.jsx)(l.a,{solution:w,solutionIdx:V,isAutoPlay:U,onMoveSelection:function(e){var t=w[e].startState;x(t),F(e)},onAutoPlay:y})]})}}).call(this,o(40))},33:function(e,t,o){"use strict";var n=o(6),r=o(17),i=o(36),c=o(8);Object(r.b)({OrbitControls:i.a});t.a=function(){var e=Object(r.d)(),t=e.camera,o=e.gl,i=Object(n.useRef)();return Object(r.c)((function(){var e;return null===(e=i.current)||void 0===e?void 0:e.update()})),Object(c.jsx)("orbitControls",{ref:i,args:[t,o.domElement],enableDamping:!0,dampingFactor:.25,enableZoom:!0,enableKeys:!1,enablePan:!1,minDistance:5,maxDistance:5})}},37:function(e,t,o){"use strict";o(6);var n=o(13),r=o(16),i=o.n(r),c=o(8);t.a=function(e){var t=e.state,o=e.onStateChange,r=e.onRandom,a=e.onSolve,s=new RegExp("[^".concat(Object.keys(n.a).join(""),"]"),"g");return Object(c.jsxs)("div",{className:i.a.Actions,children:[Object(c.jsx)("input",{size:80,type:"text",value:(t.match(/.{1,9}/g)||[]).join(" "),onChange:function(e){return o(e.target.value.toUpperCase().replace(s,""))}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:r,children:"Random"}),Object(c.jsx)("button",{onClick:a,children:"Solve"})]})}},38:function(e,t,o){"use strict";o(6);var n=o(16),r=o.n(n),i=o(8);t.a=function(e){var t=e.solution,o=e.solutionIdx,n=e.isAutoPlay,c=e.onMoveSelection,a=e.onAutoPlay;return 0===t.length?null:Object(i.jsxs)("div",{className:r.a.Solution,children:[t.map((function(e,t){var n=e.move;return Object(i.jsx)("span",{className:o===t?r.a.MoveActive:r.a.Move,onClick:function(){return c(t)},children:n},t)})),Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"checkbox",onChange:function(){return a(!n)},checked:n}),"Auto Play"]})]})}},39:function(e,t,o){"use strict";var n=o(10),r=o(6),i=o.n(r),c=o(17),a=o(7),s=o(14),u=o(4),l=o(8),f=1e-5,v=function(e){var t=e.width,o=void 0===t?.88:t,n=e.height,c=void 0===n?.88:n,a=e.radius,s=void 0===a?0:a,v=e.axis,b=e.inverse,d=e.colour,p=Object(r.useRef)(),j=Object(r.useRef)(),O=Object(r.useMemo)((function(){return function(e,t,o){var n=new u.Shape,r=o-f;return n.absarc(f,f,f,-Math.PI/2,-Math.PI,!0),n.absarc(f,t-2*r,f,Math.PI,Math.PI/2,!0),n.absarc(e-2*r,t-2*r,f,Math.PI/2,0,!0),n.absarc(e-2*r,f,f,0,-Math.PI/2,!0),n}(o,c,s)}),[o,c,s]),h=function(e,t){switch(e){case"y":return{rotX:0,rotY:(t?-1:1)*(Math.PI/2),position:new u.Vector3(t?-.5:.5,0,0)};case"x":return{rotX:(t?1:-1)*(Math.PI/2),rotY:0,position:new u.Vector3(0,t?-.5:.5,0)};case"z":return{rotX:0,rotY:Math.PI,position:new u.Vector3(0,0,t?-.5:.5)}}}(v,b),x=h.rotX,R=h.rotY,m=h.position;return i.a.useLayoutEffect((function(){var e,t,o;null===(e=p.current)||void 0===e||e.rotateX(x),null===(t=p.current)||void 0===t||t.rotateY(R),null===(o=j.current)||void 0===o||o.center()}),[R,x]),Object(l.jsxs)("mesh",{ref:p,position:m,children:[Object(l.jsx)("meshBasicMaterial",{color:d,side:u.DoubleSide,polygonOffset:!0,transparent:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-4}),Object(l.jsx)("shapeBufferGeometry",{ref:j,attach:"geometry",args:[O,5]})]})},b=["args","radius","smoothness","children"],d=1e-5,p=Object(r.forwardRef)((function(e,t){var o=e.args;o=void 0===o?[]:o;var r=Object(n.a)(o,3),c=r[0],f=void 0===c?1:c,v=r[1],p=void 0===v?1:v,j=r[2],O=void 0===j?1:j,h=e.radius,x=void 0===h?.05:h,R=e.smoothness,m=void 0===R?4:R,w=e.children,B=Object(s.a)(e,b),D=i.a.useMemo((function(){return function(e,t,o){var n=new u.Shape,r=o-d;return n.absarc(d,d,d,-Math.PI/2,-Math.PI,!0),n.absarc(d,t-2*r,d,Math.PI,Math.PI/2,!0),n.absarc(e-2*r,t-2*r,d,Math.PI/2,0,!0),n.absarc(e-2*r,d,d,0,-Math.PI/2,!0),n}(f,p,x)}),[f,p,x]),g=i.a.useMemo((function(){return{depth:O-2*x,bevelEnabled:!0,bevelSegments:2*m,steps:1,bevelSize:x-d,bevelThickness:x,curveSegments:m}}),[O,x,m]),V=i.a.useRef();return i.a.useLayoutEffect((function(){V.current&&V.current.center()}),[D,g]),Object(l.jsxs)("mesh",Object(a.a)(Object(a.a)({ref:t},B),{},{children:[Object(l.jsx)("extrudeBufferGeometry",{attach:"geometry",ref:V,args:[D,g]}),w]}))})),j=Object(r.forwardRef)((function(e,t){var o=e.name,n=e.position,r=e.yColour,i=void 0===r?void 0:r,c=e.xColour,a=void 0===c?void 0:c,s=e.zColour,u=void 0===s?void 0:s;return Object(l.jsxs)(p,{ref:t,args:[1,1,1],radius:.08,smoothness:5,position:n,userData:{name:o,position:n},children:[Object(l.jsx)("meshBasicMaterial",{color:0}),i&&Object(l.jsx)(v,{axis:"y",inverse:n.x<0,colour:i}),a&&Object(l.jsx)(v,{axis:"x",inverse:n.y<0,colour:a}),u&&Object(l.jsx)(v,{axis:"z",inverse:n.z<0,colour:u})]})})),O={F:{positions:["ULF","URF","DLF","DRF","UF","DF","FR","FL","F"],axis:new u.Vector3(0,0,1)},B:{positions:["URB","ULB","DRB","DLB","UB","DB","BL","BR","B"],axis:new u.Vector3(0,0,1)},R:{positions:["URF","URB","DRF","DRB","UR","DR","FR","BR","R"],axis:new u.Vector3(1,0,0)},L:{positions:["ULB","ULF","DLB","DLF","UL","DL","FL","BL","L"],axis:new u.Vector3(1,0,0)},U:{positions:["ULB","URB","ULF","URF","UR","UF","UL","UB","U"],axis:new u.Vector3(0,1,0)},D:{positions:["DLF","DRF","DLB","DRB","DR","DF","DL","DB","D"],axis:new u.Vector3(0,1,0)}},h=function(e,t,o){var r=t.split("",2),i=Object(n.a)(r,2),c=i[0],a=i[1],s=O[c],u=s.positions,l=s.axis,f="'"===a?1:-1;["D","L","B"].includes(c)&&(f=-f);var v="2"===a?2:1,b=e.filter((function(e){return u.includes(e.userData.name)})),d=.05*v*o,p=v*Math.PI/2,j=p;return function(){if(j<=0)return!1;var e=(1.1-Math.pow((2*j-p)/p,2))*d;return j-=e,b.forEach((function(t){t.position.applyAxisAngle(l,e*f),t.rotateOnAxis(l,e*f)})),!0}},x=o(13),R=Object(r.forwardRef)((function(e,t){var o=e.state,i=Object(r.useRef)([]),a=Object(r.useRef)(),s=o.padEnd(54,"W");Object(c.c)((function(){if(a.current){var e=Object(n.a)(a.current,2),t=e[0],o=e[1];t()||(o(),a.current=void 0)}}));var u=function(e){return new Promise((function(t){a.current=[h(i.current,e,1),t]}))},f=function(){i.current.forEach((function(e){e.position.copy(e.userData.position),e.rotation.set(0,0,0)}))};return Object(r.useLayoutEffect)(f,[s]),Object(r.useImperativeHandle)(t,(function(){return{reset:f,rotate:u}})),Object(l.jsx)("group",{ref:t,children:Object.entries(x.b).map((function(e,t){var o=Object(n.a)(e,2),r=o[0],c=o[1],a=c.position,u=c.facelets.map((function(e){return void 0!==e?x.a[s[e]]:void 0})),f=Object(n.a)(u,3),v=f[0],b=f[1],d=f[2];return Object(l.jsx)(j,{ref:function(e){return i.current[t]=e},name:r,position:a,xColour:v,yColour:b,zColour:d},r)}))})}));t.a=R},41:function(e,t,o){"use strict";o.r(t);var n=o(6),r=o.n(n),i=o(31),c=o.n(i),a=o(32),s=(o(49),o(8));Promise.all([o.e(3),o.e(4)]).then(o.bind(null,50)).then((function(e){c.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(a.a,{solver:e})}),document.getElementById("root"))}))},49:function(e,t,o){}},[[41,1,2]]]);
//# sourceMappingURL=main.cfa07ed6.chunk.js.map